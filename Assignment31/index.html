<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Product List</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous" />
        <style>
            /* .myborder{
               border: 0.1px solid black; 
            } */
        </style>
</head>

<body>
    <div class="text-center my-3">
        <input
          type="search"
          size="50"
          name=""
          id="input"
          placeholder="What you want to search"
          onkeyup="findName()"
        />
      </div>
    <div class="container-product mx-auto my-5 text-center">
        <div class="row" id="row">
        </div>
    </div>
    <script>
        let productList = [
            {
                name: "Grapes",
                image: "grapes.jpg",
                unit: "kg",
                mrp: 120,
                discount: 10,
                inStock: false,
                qty: 0,
            },
            {
                name: "Mango",
                image: "mango.jpg",
                unit: "doz",
                mrp: 500,
                discount: 8,
                inStock: true,
                qty: 0,
            },
            {
                name: "Banana",
                image: "banana.jpg",
                unit: "doz",
                mrp: 60,
                discount: 0,
                inStock: true,
                qty: 0,
            },
            {
                name: "Apple",
                image: "apple.jpg",
                unit: "kg",
                mrp: 180,
                discount: 7,
                inStock: true,
                qty: 0,
            },
            {
                name: "Anjeer",
                image: "anjeer.jpg",
                unit: "kg",
                mrp: 100,
                discount: 0,
                inStock: true,
                qty: 0,
            },
            {
                name: "Strawberry",
                image: "strawberry.jpg",
                unit: "kg",
                mrp: 200,
                discount: 20,
                inStock: true,
                qty: 0,
            },
            {
                name: "Papaya",
                image: "papaya.jpg",
                unit: "kg",
                mrp: 50,
                discount: 15,
                inStock: true,
                qty: 0,
            },
            {
                name: "Cherry",
                image: "cherry.jpg",
                unit: "kg",
                mrp: 300,
                discount: 5,
                inStock: true,
                qty: 0,
            },
            {
                name: "Chikoo",
                image: "chikoo.jpg",
                unit: "kg",
                mrp: 60,
                discount: 5,
                inStock: false,
                qty: 0,
            },
            {
                name: "Kiwi",
                image: "kiwi.jpg",
                unit: "piece",
                mrp: 20,
                discount: 0,
                inStock: false,
                qty: 0,
            },
            {
                name: "Orange",
                image: "orange.jpg",
                unit: "kg",
                mrp: 200,
                discount: 10,
                inStock: true,
                qty: 0,
            },
            {
                name: "pear",
                image: "pear.jpg",
                unit: "kg",
                mrp: 200,
                discount: 7,
                inStock: true,
                qty: 0,
            },
            {
                name: "Pineapple",
                image: "pineapple.jpg",
                unit: "piece",
                mrp: 100,
                discount: 50,
                inStock: true,
                qty: 0,
            },
            {
                name: "Pomegranete",
                image: "pomegranete.jpg",
                unit: "kg",
                mrp: 200,
                discount: 5,
                inStock: true,
                qty: 0,
            },
            {
                name: "Sitaphal",
                image: "sitaphal.jpg",
                unit: "kg",
                mrp: 100,
                discount: 10,
                inStock: true,
                qty: 0,
            },
            {
                name: "Watermelon",
                image: "watermelon.jpg",
                unit: "peice",
                mrp: 80,
                discount: 50,
                inStock: true,
                qty: 0,
            },
            {
                name: "Sweetlime",
                image: "sweetlime.jpg",
                unit: "kg",
                mrp: 200,
                discount: 5,
                inStock: true,
                qty: 0,
            },
            {
                name: "Peach",
                image: "peach.jpg",
                unit: "kg",
                mrp: 200,
                discount: 10,
                inStock: false,
                qty: 0,
            },
            {
                name: "Dragon",
                image: "dragon.jpg",
                unit: "piece",
                mrp: 60,
                discount: 0,
                inStock: true,
                qty: 0,
            },
        ];
        let ele_row = document.getElementById("row");
        let filteredproductList=productList;
        
        showProducts();
        function showProducts() {
            html = "";
            filteredproductList.forEach((e, index) => {
                if (e.discount != 0) {
                    discount = "Discount:" + e.discount + "%"
                }
                else {
                    discount = "&nbsp;"
                }

                let b;
    if(!e.inStock)
    {
        
        b='<Button class="btn btn-secondary" my-3  >Out of Stock</Button>'        
      
    }
    else{
        b='<Button class="btn btn-primary" my-3  >Order</Button>'  
    }
                
                html += `
<div class="col-3 myborder">
                
                <div id="name" class="text-bg-danger my-3 p-1">${e.name}</div>
                <div><img src="./images/${e.image}" alt="" id="image" /></div>
                <div id="price" class="text-danger">Rs 120 per kg ${e.mrp}</div>
                <div id="off" class="my-1" >${discount}</div>
                
                <div>
             ${b}
                              
        </div>
      </div>

            `

            })
            ele_row.innerHTML = html
        }//
let ele_input=document.getElementById("input");
        function findName() {
        let target = ele_input.value;
            console.log(target);
        filteredproductList = productList.filter((e, index) =>
          e.name.toLowerCase().startsWith(target.toLowerCase())
        );
        showProducts();
      }
    </script> 


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
        crossorigin="anonymous"></script>
</body>

</html>